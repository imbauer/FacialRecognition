<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>Facial Recognition</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
</head>
<style>
    #nav-mobile a:hover {
        color: black;
        text-decoration: none;
    }

</style>


<body>

    <nav>
        <div class="nav-wrapper">
            <a href="#" class="brand-logo center">Facial Recognition Web Application</a>
            <ul id="nav-mobile" class="left hide-on-med-and-down">
                <li><a href="home.html">Home</a></li>
                <li><a href="demo.html">Demo</a></li>
            </ul>
        </div>
    </nav>

    <div>&nbsp;</div>

    <div class="row">
        <div class="col s12">
            <div class="input-field col s2 offset-s4">
                <input id="app_id" type="text" class="validate">
                <label for="app_id">App ID</label>
            </div>
            <div class="input-field col s2">
                <input id="key" type="text" class="validate">
                <label for="key">Key</label>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col s12">
            <div class="input-field col s4 offset-s4">
                <input id="url" type="text" class="validate">
                <label for="url">Enter Image</label>
            </div>
        </div>
    </div>

    <div class="center-align">
        <button id="submitMyStuff" onclick="doStuff()" class="btn waves-effect waves-light " type="submit" name="action">Submit
    <i class="material-icons right"></i>
    </button>
    </div>

    <div>&nbsp;</div>


    <div class="row">
        <div class="col s12">
            <img class="col s4 offset-s4" id="sampleImg">
        </div>
    </div>

    <div class="row">
        <div class="col s12">
            <div class="col s4 offset-s4" id="output" style="text-align:center;">&nbsp;</div>
        </div>
    </div>




    <script type="text/javascript">
        function doStuff() {
            var imageUrl = $("#url").val();
            var kairos_app_id = $("#app_id").val();
            var kairos_key = $("#key").val();
            $("#sampleImg").attr("src", imageUrl)
            $.ajax({
                data: {
                    image: imageUrl,
                    app_id: kairos_app_id,
                    key: kairos_key
                },
                url: '/getRaceData',
                success: function(data) {
                    $("#output").html(JSON.stringify(data));
                }
            })
        }

    </script>

</body>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<!-- Bootstrap core JavaScript
    ================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<!-- Compiled and minified CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">

<!-- Compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>

</html>
